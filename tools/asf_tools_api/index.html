
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="The Alaska Satellite Facility's Hybrid Pluggable Processing Pipeline">
      
      
      
        <meta name="author" content="ASF APD/Tools Team">
      
      
        <link rel="canonical" href="https://hyp3-docs.asf.alaska.edu/tools/asf_tools_api/">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.2.8">
    
    
      
        <title>API Reference - HyP3</title>
      
    
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.cb6bc1d0.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.39b8e14a.min.css">
        
      
    
    <link rel="stylesheet" href="../../assets/stylesheets/asf.css">

    

<script src="https://fbm.earthdata.nasa.gov/for/ASF/feedback.js" type="text/javascript"></script>
<script type="text/javascript">
 // This prevents the FBM flyout banner from appearing on the side of the page.
feedback.init({showIcon: false});
</script>

<script src="https://cdn.earthdata.nasa.gov/tophat2/tophat2.js"
        id="earthdata-tophat-script"
        data-show-fbm="true"
        data-show-status="false"
        data-fbm-subject-line="How can we help you?"
        data-current-daac="ASF DAAC">
</script>

    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    
  
    <!--
  Copyright (c) 2016-2020 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Google Analytics integration -->

  

<script type="application/javascript">
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date

  /* Set up integration and send page view */
  ga("create", "UA-991100-5", "search.asf.alaska.edu")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")

  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", function() {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })

  /* Send page view on document switch (instant loading, custom event) */
  document.addEventListener("DOMContentSwitch", function() {
    ga("send", "pageview", document.location.pathname)
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
  

    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#asf_tools-api-reference" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <!--
  Copyright (c) 2016-2020 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Mitigate bug: https://github.com/mkdocs/mkdocs/issues/2191 -->



<!-- Application header -->
<header class="md-header" data-md-component="header">

  <!-- Top-level navigation -->
  <nav class="md-header-nav md-grid" aria-label="Header">

    
      <!-- Link to ASF -->
      <a
        href="https://asf.alaska.edu/"
        title="ASF"
        class="md-header-nav__button md-logo"
        aria-label="ASF"
      >
      <img src="../../assets/images/ASFLogo-Blue2.png" alt="logo" />
    
    <!-- Link to home -->
    <a
      href="https://hyp3-docs.asf.alaska.edu/"
      title="HyP3"
      class="md-header-nav__button md-logo"
      aria-label="HyP3"
    >
      <!--
  Copyright (c) 2016-2020 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Logo -->

  <img src="../../images/HyP3-graphic-only.png" alt="logo" />

    </a>

    <!-- Button to open drawer -->
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>

    <!-- Header title -->
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            HyP3
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              API Reference
            
          </span>
        </div>
      
    </div>

    
     <!-- Search interface -->
      <div class="expert-rec-search">
  <ci-search></ci-search>
</div>
    

    <!-- Repository containing source -->
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/ASFHyP3" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
  </div>
  <div class="md-source__repository">
    ASF HyP3
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    




<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://hyp3-docs.asf.alaska.edu/" title="HyP3" class="md-nav__button md-logo" aria-label="HyP3">
      <!--
  Copyright (c) 2016-2020 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Logo -->

  <img src="../../images/HyP3-graphic-only.png" alt="logo" />

    </a>
    HyP3
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/ASFHyP3" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
  </div>
  <div class="md-source__repository">
    ASF HyP3
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../how_it_works/" class="md-nav__link">
        How it works
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" >
      
      <label class="md-nav__link" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        
          Using HyP3
        
      </label>
      <nav class="md-nav" aria-label="Using HyP3" data-md-level="1">
        <label class="md-nav__title" for="nav-3">
          <span class="md-nav__icon md-icon"></span>
          
            Using HyP3
          
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="https://search.asf.alaska.edu/#/?topic=onDemand" target="_blank" class="md-nav__link">
        Vertex
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3-2" type="checkbox" id="nav-3-2" >
      
      <label class="md-nav__link" for="nav-3-2">
        <span class="md-nav__icon md-icon"></span>
        
          <a href="../../using/sdk/" class="md-nav__link"
            style="margin: initial; padding: initial; pointer-events: initial">
        
          SDK
        </a>
      </label>
      <nav class="md-nav" aria-label="SDK" data-md-level="2">
        <label class="md-nav__title" for="nav-3-2">
          <span class="md-nav__icon md-icon"></span>
          
            <a href="../../using/sdk/" class="md-nav__link"
              style="margin: initial; padding: initial; pointer-events: initial">
          
            SDK
          </a>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="https://nbviewer.jupyter.org/github/ASFHyP3/hyp3-sdk/blob/main/docs/sdk_example.ipynb" target="_blank" class="md-nav__link">
        Example Notebook
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../using/sdk_api/" class="md-nav__link">
        API Reference
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../using/api/" class="md-nav__link">
        API
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" >
      
      <label class="md-nav__link" for="nav-4">
        <span class="md-nav__icon md-icon"></span>
        
          <a href="../../products/" class="md-nav__link"
            style="margin: initial; padding: initial; pointer-events: initial">
        
          Products
        </a>
      </label>
      <nav class="md-nav" aria-label="Products" data-md-level="1">
        <label class="md-nav__title" for="nav-4">
          <span class="md-nav__icon md-icon"></span>
          
            <a href="../../products/" class="md-nav__link"
              style="margin: initial; padding: initial; pointer-events: initial">
          
            Products
          </a>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../dems/" class="md-nav__link">
        Digital Elevation Models
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4-2" type="checkbox" id="nav-4-2" >
      
      <label class="md-nav__link" for="nav-4-2">
        <span class="md-nav__icon md-icon"></span>
        
          Product guides
        
      </label>
      <nav class="md-nav" aria-label="Product guides" data-md-level="2">
        <label class="md-nav__title" for="nav-4-2">
          <span class="md-nav__icon md-icon"></span>
          
            Product guides
          
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/rtc_product_guide/" class="md-nav__link">
        RTC Product Guide
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/rtc_atbd/" class="md-nav__link">
        RTC ATBD
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" checked>
      
      <label class="md-nav__link" for="nav-5">
        <span class="md-nav__icon md-icon"></span>
        
          Other tools
        
      </label>
      <nav class="md-nav" aria-label="Other tools" data-md-level="1">
        <label class="md-nav__title" for="nav-5">
          <span class="md-nav__icon md-icon"></span>
          
            Other tools
          
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../arcgis_toolbox/" class="md-nav__link">
        ArcGIS Toolbox
      </a>
    </li>
  

          
            
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5-2" type="checkbox" id="nav-5-2" checked>
      
      <label class="md-nav__link" for="nav-5-2">
        <span class="md-nav__icon md-icon"></span>
        
          <a href="../asf_tools/" class="md-nav__link"
            style="margin: initial; padding: initial; pointer-events: initial">
        
          ASF Tools for Python
        </a>
      </label>
      <nav class="md-nav" aria-label="ASF Tools for Python" data-md-level="2">
        <label class="md-nav__title" for="nav-5-2">
          <span class="md-nav__icon md-icon"></span>
          
            <a href="../asf_tools/" class="md-nav__link"
              style="margin: initial; padding: initial; pointer-events: initial">
          
            ASF Tools for Python
          </a>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          <span class="md-nav__icon md-icon"></span>
          
            <a href="./" class="md-nav__link md-nav__link--active"
              style="margin: initial; padding: initial; pointer-events: initial">
          
            API Reference
          </a>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        API Reference
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#asf_tools.composite" class="md-nav__link">
    composite
  </a>
  
    <nav class="md-nav" aria-label="composite">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#asf_tools.composite.epsg_to_wkt" class="md-nav__link">
    epsg_to_wkt()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asf_tools.composite.get_area_raster" class="md-nav__link">
    get_area_raster()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asf_tools.composite.get_epsg_code" class="md-nav__link">
    get_epsg_code()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asf_tools.composite.get_full_extent" class="md-nav__link">
    get_full_extent()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asf_tools.composite.get_target_epsg_code" class="md-nav__link">
    get_target_epsg_code()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asf_tools.composite.make_composite" class="md-nav__link">
    make_composite()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asf_tools.composite.read_as_array" class="md-nav__link">
    read_as_array()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asf_tools.composite.reproject_to_target" class="md-nav__link">
    reproject_to_target()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asf_tools.composite.write_cog" class="md-nav__link">
    write_cog()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/" class="md-nav__link">
        Plugins
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../CODE_OF_CONDUCT/" class="md-nav__link">
        Code of Conduct
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#asf_tools.composite" class="md-nav__link">
    composite
  </a>
  
    <nav class="md-nav" aria-label="composite">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#asf_tools.composite.epsg_to_wkt" class="md-nav__link">
    epsg_to_wkt()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asf_tools.composite.get_area_raster" class="md-nav__link">
    get_area_raster()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asf_tools.composite.get_epsg_code" class="md-nav__link">
    get_epsg_code()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asf_tools.composite.get_full_extent" class="md-nav__link">
    get_full_extent()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asf_tools.composite.get_target_epsg_code" class="md-nav__link">
    get_target_epsg_code()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asf_tools.composite.make_composite" class="md-nav__link">
    make_composite()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asf_tools.composite.read_as_array" class="md-nav__link">
    read_as_array()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asf_tools.composite.reproject_to_target" class="md-nav__link">
    reproject_to_target()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asf_tools.composite.write_cog" class="md-nav__link">
    write_cog()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="asf_tools-api-reference"><code>asf_tools</code> API Reference<a class="headerlink" href="#asf_tools-api-reference" title="Permanent link">&para;</a></h1>


  <div class="doc doc-object doc-module">


    <div class="doc doc-contents first">

      <p>Tools developed by ASF for working with SAR data</p>



  <div class="doc doc-children">











  <div class="doc doc-object doc-module">



<h2 id="asf_tools.composite" class="doc doc-heading">
        <code>composite</code>



<a href="#asf_tools.composite" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Create a local-resolution-weighted composite from Sentinel-1 RTC products.</p>
<p>Create a local-resolution-weighted composite from a set of Sentinel-1 RTC
products (D. Small, 2012). The local resolution, defined as the inverse of the
local contributing (scattering) area, is used to weight each RTC products'
contributions to the composite image on a pixel-by-pixel basis. The composite image
is created as a Cloud Optimized GeoTIFF (COG). Additionally, a COG specifying
the number of rasters contributing to each composite pixel is created.</p>
<div class="admonition references">
<p class="admonition-title">References</p>
<p>David Small, 2012: https://doi.org/10.1109/IGARSS.2012.6350465</p>
</div>



  <div class="doc doc-children">









  <div class="doc doc-object doc-function">



<h3 id="asf_tools.composite.epsg_to_wkt" class="doc doc-heading">
<code class="highlight language-python"><span class="n">epsg_to_wkt</span><span class="p">(</span><span class="n">epsg_code</span><span class="p">)</span></code>


<a href="#asf_tools.composite.epsg_to_wkt" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Get the WKT representation of a projection from its EPSG code</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>epsg_code</code></td>
        <td><code>int</code></td>
        <td><p>The integer EPSG code</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>wkt: The WKT representation of the projection</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>asf_tools/composite.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">epsg_to_wkt</span><span class="p">(</span><span class="n">epsg_code</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Get the WKT representation of a projection from its EPSG code</span>

<span class="sd">    Args:</span>
<span class="sd">        epsg_code: The integer EPSG code</span>

<span class="sd">    Returns:</span>
<span class="sd">        wkt: The WKT representation of the projection</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">srs</span> <span class="o">=</span> <span class="n">osr</span><span class="o">.</span><span class="n">SpatialReference</span><span class="p">()</span>
    <span class="n">srs</span><span class="o">.</span><span class="n">ImportFromEPSG</span><span class="p">(</span><span class="n">epsg_code</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">srs</span><span class="o">.</span><span class="n">ExportToWkt</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="asf_tools.composite.get_area_raster" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_area_raster</span><span class="p">(</span><span class="n">raster</span><span class="p">)</span></code>


<a href="#asf_tools.composite.get_area_raster" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Determine the path of the area raster for a given backscatter raster based on naming conventions for HyP3 RTC
products</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>raster</code></td>
        <td><code>str</code></td>
        <td><p>path of the backscatter raster, e.g. S1A_IW_20181102T155531_DVP_RTC30_G_gpuned_5685_VV.tif</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>area_raster: path of the area raster, e.g. S1A_IW_20181102T155531_DVP_RTC30_G_gpuned_5685_area.tif</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>asf_tools/composite.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_area_raster</span><span class="p">(</span><span class="n">raster</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Determine the path of the area raster for a given backscatter raster based on naming conventions for HyP3 RTC</span>
<span class="sd">    products</span>

<span class="sd">    Args:</span>
<span class="sd">        raster: path of the backscatter raster, e.g. S1A_IW_20181102T155531_DVP_RTC30_G_gpuned_5685_VV.tif</span>

<span class="sd">    Returns:</span>
<span class="sd">        area_raster: path of the area raster, e.g. S1A_IW_20181102T155531_DVP_RTC30_G_gpuned_5685_area.tif</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="s1">&#39;_&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">raster</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">)[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;area.tif&#39;</span><span class="p">])</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="asf_tools.composite.get_epsg_code" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_epsg_code</span><span class="p">(</span><span class="n">info</span><span class="p">)</span></code>


<a href="#asf_tools.composite.get_epsg_code" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Get the EPSG code from a GDAL Info dictionary</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>info</code></td>
        <td><code>dict</code></td>
        <td><p>The dictionary returned by a gdal.Info call</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>int</code></td>
      <td><p>epsg_code: The integer EPSG code</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>asf_tools/composite.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_epsg_code</span><span class="p">(</span><span class="n">info</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Get the EPSG code from a GDAL Info dictionary</span>

<span class="sd">    Args:</span>
<span class="sd">        info: The dictionary returned by a gdal.Info call</span>

<span class="sd">    Returns:</span>
<span class="sd">        epsg_code: The integer EPSG code</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">proj</span> <span class="o">=</span> <span class="n">osr</span><span class="o">.</span><span class="n">SpatialReference</span><span class="p">(</span><span class="n">info</span><span class="p">[</span><span class="s1">&#39;coordinateSystem&#39;</span><span class="p">][</span><span class="s1">&#39;wkt&#39;</span><span class="p">])</span>
    <span class="n">epsg_code</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">proj</span><span class="o">.</span><span class="n">GetAttrValue</span><span class="p">(</span><span class="s1">&#39;AUTHORITY&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">epsg_code</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="asf_tools.composite.get_full_extent" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_full_extent</span><span class="p">(</span><span class="n">raster_info</span><span class="p">)</span></code>


<a href="#asf_tools.composite.get_full_extent" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Determine the corner coordinates and geotransform for the full extent of a set of rasters</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>raster_info</code></td>
        <td><code>dict</code></td>
        <td><p>A dictionary of gdal.Info results for the set of rasters</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>upper_left</code></td>
      <td><p>The upper left corner of the extent as a tuple
upper_right: The lower right corner of the extent as a tuple
geotransform: The geotransform of the extent as a list</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>asf_tools/composite.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_full_extent</span><span class="p">(</span><span class="n">raster_info</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Determine the corner coordinates and geotransform for the full extent of a set of rasters</span>

<span class="sd">    Args:</span>
<span class="sd">        raster_info: A dictionary of gdal.Info results for the set of rasters</span>

<span class="sd">    Returns:</span>
<span class="sd">        upper_left: The upper left corner of the extent as a tuple</span>
<span class="sd">        upper_right: The lower right corner of the extent as a tuple</span>
<span class="sd">        geotransform: The geotransform of the extent as a list</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">upper_left_corners</span> <span class="o">=</span> <span class="p">[</span><span class="n">info</span><span class="p">[</span><span class="s1">&#39;cornerCoordinates&#39;</span><span class="p">][</span><span class="s1">&#39;upperLeft&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">info</span> <span class="ow">in</span> <span class="n">raster_info</span><span class="o">.</span><span class="n">values</span><span class="p">()]</span>
    <span class="n">lower_right_corners</span> <span class="o">=</span> <span class="p">[</span><span class="n">info</span><span class="p">[</span><span class="s1">&#39;cornerCoordinates&#39;</span><span class="p">][</span><span class="s1">&#39;lowerRight&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">info</span> <span class="ow">in</span> <span class="n">raster_info</span><span class="o">.</span><span class="n">values</span><span class="p">()]</span>

    <span class="n">ulx</span> <span class="o">=</span> <span class="nb">min</span><span class="p">([</span><span class="n">ul</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">ul</span> <span class="ow">in</span> <span class="n">upper_left_corners</span><span class="p">])</span>
    <span class="n">uly</span> <span class="o">=</span> <span class="nb">max</span><span class="p">([</span><span class="n">ul</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">ul</span> <span class="ow">in</span> <span class="n">upper_left_corners</span><span class="p">])</span>
    <span class="n">lrx</span> <span class="o">=</span> <span class="nb">max</span><span class="p">([</span><span class="n">lr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">lr</span> <span class="ow">in</span> <span class="n">lower_right_corners</span><span class="p">])</span>
    <span class="n">lry</span> <span class="o">=</span> <span class="nb">min</span><span class="p">([</span><span class="n">lr</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">lr</span> <span class="ow">in</span> <span class="n">lower_right_corners</span><span class="p">])</span>

    <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Full extent raster upper left: (</span><span class="si">{</span><span class="n">ulx</span><span class="p">,</span> <span class="n">uly</span><span class="si">}</span><span class="s1">); lower right: (</span><span class="si">{</span><span class="n">lrx</span><span class="p">,</span> <span class="n">lry</span><span class="si">}</span><span class="s1">)&#39;</span><span class="p">)</span>

    <span class="n">trans</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">info</span> <span class="ow">in</span> <span class="n">raster_info</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="c1"># Only need info from any one raster</span>
        <span class="n">trans</span> <span class="o">=</span> <span class="n">info</span><span class="p">[</span><span class="s1">&#39;geoTransform&#39;</span><span class="p">]</span>
        <span class="k">break</span>

    <span class="n">trans</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">ulx</span>
    <span class="n">trans</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">uly</span>

    <span class="k">return</span> <span class="p">(</span><span class="n">ulx</span><span class="p">,</span> <span class="n">uly</span><span class="p">),</span> <span class="p">(</span><span class="n">lrx</span><span class="p">,</span> <span class="n">lry</span><span class="p">),</span> <span class="n">trans</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="asf_tools.composite.get_target_epsg_code" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_target_epsg_code</span><span class="p">(</span><span class="n">codes</span><span class="p">)</span></code>


<a href="#asf_tools.composite.get_target_epsg_code" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Determine the target UTM EPSG projection for the output composite</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>codes</code></td>
        <td><code>List[int]</code></td>
        <td><p>List of UTM EPSG codes</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>int</code></td>
      <td><p>target: UTM EPSG code</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>asf_tools/composite.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_target_epsg_code</span><span class="p">(</span><span class="n">codes</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Determine the target UTM EPSG projection for the output composite</span>

<span class="sd">    Args:</span>
<span class="sd">        codes: List of UTM EPSG codes</span>

<span class="sd">    Returns:</span>
<span class="sd">        target: UTM EPSG code</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># use median east/west UTM zone of all files, regardless of hemisphere</span>
    <span class="c1"># UTM EPSG codes for each hemisphere will look like:</span>
    <span class="c1">#   North: 326XX</span>
    <span class="c1">#   South: 327XX</span>
    <span class="n">valid_codes</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">32601</span><span class="p">,</span> <span class="mi">32661</span><span class="p">))</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">32701</span><span class="p">,</span> <span class="mi">32761</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">bad_codes</span> <span class="o">:=</span> <span class="nb">set</span><span class="p">(</span><span class="n">codes</span><span class="p">)</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">valid_codes</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Non UTM EPSG code encountered: </span><span class="si">{</span><span class="n">bad_codes</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="n">hemispheres</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="o">//</span> <span class="mi">100</span> <span class="o">*</span> <span class="mi">100</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">codes</span><span class="p">]</span>
    <span class="c1"># if even modes, choose lowest (North)</span>
    <span class="n">target_hemisphere</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">multimode</span><span class="p">(</span><span class="n">hemispheres</span><span class="p">))</span>

    <span class="n">zones</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">([</span><span class="n">c</span> <span class="o">%</span> <span class="mi">100</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">codes</span><span class="p">])</span>
    <span class="c1"># if even length, choose fist of median two</span>
    <span class="n">target_zone</span> <span class="o">=</span> <span class="n">zones</span><span class="p">[(</span><span class="nb">len</span><span class="p">(</span><span class="n">zones</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">target_hemisphere</span> <span class="o">+</span> <span class="n">target_zone</span>
</code></pre></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-function">



<h3 id="asf_tools.composite.make_composite" class="doc doc-heading">
<code class="highlight language-python"><span class="n">make_composite</span><span class="p">(</span><span class="n">out_name</span><span class="p">,</span> <span class="n">rasters</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#asf_tools.composite.make_composite" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Creates a local-resolution-weighted composite from Sentinel-1 RTC products</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>out_name</code></td>
        <td><code>str</code></td>
        <td><p>The base name of the output GeoTIFFs</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>rasters</code></td>
        <td><code>List[str]</code></td>
        <td><p>A list of file paths of the images to composite</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>resolution</code></td>
        <td><code>float</code></td>
        <td><p>The pixel size for the output GeoTIFFs</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>out_raster</code></td>
      <td><p>Path to the created composite backscatter GeoTIFF
out_counts_raster: Path to the created GeoTIFF with counts of scenes contributing to each pixel</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>asf_tools/composite.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">make_composite</span><span class="p">(</span><span class="n">out_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">rasters</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">resolution</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Creates a local-resolution-weighted composite from Sentinel-1 RTC products</span>

<span class="sd">    Args:</span>
<span class="sd">        out_name: The base name of the output GeoTIFFs</span>
<span class="sd">        rasters: A list of file paths of the images to composite</span>
<span class="sd">        resolution: The pixel size for the output GeoTIFFs</span>

<span class="sd">    Returns:</span>
<span class="sd">        out_raster: Path to the created composite backscatter GeoTIFF</span>
<span class="sd">        out_counts_raster: Path to the created GeoTIFF with counts of scenes contributing to each pixel</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">rasters</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Must specify at least one raster to composite&#39;</span><span class="p">)</span>

    <span class="n">raster_info</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">raster</span> <span class="ow">in</span> <span class="n">rasters</span><span class="p">:</span>
        <span class="n">raster_info</span><span class="p">[</span><span class="n">raster</span><span class="p">]</span> <span class="o">=</span> <span class="n">gdal</span><span class="o">.</span><span class="n">Info</span><span class="p">(</span><span class="n">raster</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;json&#39;</span><span class="p">)</span>
        <span class="c1"># make sure gdal can read the area raster</span>
        <span class="n">gdal</span><span class="o">.</span><span class="n">Info</span><span class="p">(</span><span class="n">get_area_raster</span><span class="p">(</span><span class="n">raster</span><span class="p">))</span>

    <span class="n">target_epsg_code</span> <span class="o">=</span> <span class="n">get_target_epsg_code</span><span class="p">([</span><span class="n">get_epsg_code</span><span class="p">(</span><span class="n">info</span><span class="p">)</span> <span class="k">for</span> <span class="n">info</span> <span class="ow">in</span> <span class="n">raster_info</span><span class="o">.</span><span class="n">values</span><span class="p">()])</span>
    <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Composite projection is EPSG:</span><span class="si">{</span><span class="n">target_epsg_code</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">resolution</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">resolution</span> <span class="o">=</span> <span class="nb">max</span><span class="p">([</span><span class="n">info</span><span class="p">[</span><span class="s1">&#39;geoTransform&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">info</span> <span class="ow">in</span> <span class="n">raster_info</span><span class="o">.</span><span class="n">values</span><span class="p">()])</span>
    <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Composite resolution is </span><span class="si">{</span><span class="n">resolution</span><span class="si">}</span><span class="s1"> meters&#39;</span><span class="p">)</span>

    <span class="c1"># resample rasters to maximum resolution &amp; common UTM zone</span>
    <span class="k">with</span> <span class="n">TemporaryDirectory</span><span class="p">(</span><span class="n">prefix</span><span class="o">=</span><span class="s1">&#39;reprojected_&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">temp_dir</span><span class="p">:</span>
        <span class="n">raster_info</span> <span class="o">=</span> <span class="n">reproject_to_target</span><span class="p">(</span><span class="n">raster_info</span><span class="p">,</span> <span class="n">target_epsg_code</span><span class="o">=</span><span class="n">target_epsg_code</span><span class="p">,</span> <span class="n">target_resolution</span><span class="o">=</span><span class="n">resolution</span><span class="p">,</span>
                                          <span class="n">directory</span><span class="o">=</span><span class="n">temp_dir</span><span class="p">)</span>

        <span class="c1"># Get extent of union of all images</span>
        <span class="n">full_ul</span><span class="p">,</span> <span class="n">full_lr</span><span class="p">,</span> <span class="n">full_trans</span> <span class="o">=</span> <span class="n">get_full_extent</span><span class="p">(</span><span class="n">raster_info</span><span class="p">)</span>

        <span class="n">nx</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">full_ul</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">full_lr</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">//</span> <span class="n">resolution</span><span class="p">)</span>
        <span class="n">ny</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">full_ul</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">full_lr</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">//</span> <span class="n">resolution</span><span class="p">)</span>

        <span class="n">outputs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">ny</span><span class="p">,</span> <span class="n">nx</span><span class="p">))</span>
        <span class="n">weights</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">outputs</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
        <span class="n">counts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">outputs</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int8</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">raster</span><span class="p">,</span> <span class="n">info</span> <span class="ow">in</span> <span class="n">raster_info</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Processing raster </span><span class="si">{</span><span class="n">raster</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Raster upper left: </span><span class="si">{</span><span class="n">info</span><span class="p">[</span><span class="s1">&#39;cornerCoordinates&#39;</span><span class="p">][</span><span class="s1">&#39;upperLeft&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">; &quot;</span>
                      <span class="sa">f</span><span class="s2">&quot;lower right: </span><span class="si">{</span><span class="n">info</span><span class="p">[</span><span class="s1">&#39;cornerCoordinates&#39;</span><span class="p">][</span><span class="s1">&#39;lowerRight&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="n">values</span> <span class="o">=</span> <span class="n">read_as_array</span><span class="p">(</span><span class="n">raster</span><span class="p">)</span>

            <span class="n">area_raster</span> <span class="o">=</span> <span class="n">get_area_raster</span><span class="p">(</span><span class="n">raster</span><span class="p">)</span>
            <span class="n">areas</span> <span class="o">=</span> <span class="n">read_as_array</span><span class="p">(</span><span class="n">area_raster</span><span class="p">)</span>

            <span class="n">ulx</span><span class="p">,</span> <span class="n">uly</span> <span class="o">=</span> <span class="n">info</span><span class="p">[</span><span class="s1">&#39;cornerCoordinates&#39;</span><span class="p">][</span><span class="s1">&#39;upperLeft&#39;</span><span class="p">]</span>
            <span class="n">y_index_start</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="n">full_ul</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">uly</span><span class="p">)</span> <span class="o">//</span> <span class="n">resolution</span><span class="p">)</span>
            <span class="n">y_index_end</span> <span class="o">=</span> <span class="n">y_index_start</span> <span class="o">+</span> <span class="n">values</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

            <span class="n">x_index_start</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="n">ulx</span> <span class="o">-</span> <span class="n">full_ul</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">//</span> <span class="n">resolution</span><span class="p">)</span>
            <span class="n">x_index_end</span> <span class="o">=</span> <span class="n">x_index_start</span> <span class="o">+</span> <span class="n">values</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

            <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span>
                <span class="sa">f</span><span class="s1">&#39;Placing values in output grid at </span><span class="si">{</span><span class="n">y_index_start</span><span class="si">}</span><span class="s1">:</span><span class="si">{</span><span class="n">y_index_end</span><span class="si">}</span><span class="s1"> and </span><span class="si">{</span><span class="n">x_index_start</span><span class="si">}</span><span class="s1">:</span><span class="si">{</span><span class="n">x_index_end</span><span class="si">}</span><span class="s1">&#39;</span>
            <span class="p">)</span>

            <span class="n">mask</span> <span class="o">=</span> <span class="n">values</span> <span class="o">==</span> <span class="mi">0</span>
            <span class="n">raster_weights</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="n">areas</span>
            <span class="n">raster_weights</span><span class="p">[</span><span class="n">mask</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

            <span class="n">outputs</span><span class="p">[</span><span class="n">y_index_start</span><span class="p">:</span><span class="n">y_index_end</span><span class="p">,</span> <span class="n">x_index_start</span><span class="p">:</span><span class="n">x_index_end</span><span class="p">]</span> <span class="o">+=</span> <span class="n">values</span> <span class="o">*</span> <span class="n">raster_weights</span>
            <span class="n">weights</span><span class="p">[</span><span class="n">y_index_start</span><span class="p">:</span><span class="n">y_index_end</span><span class="p">,</span> <span class="n">x_index_start</span><span class="p">:</span><span class="n">x_index_end</span><span class="p">]</span> <span class="o">+=</span> <span class="n">raster_weights</span>
            <span class="n">counts</span><span class="p">[</span><span class="n">y_index_start</span><span class="p">:</span><span class="n">y_index_end</span><span class="p">,</span> <span class="n">x_index_start</span><span class="p">:</span><span class="n">x_index_end</span><span class="p">]</span> <span class="o">+=</span> <span class="o">~</span><span class="n">mask</span>

    <span class="k">del</span> <span class="n">values</span><span class="p">,</span> <span class="n">areas</span><span class="p">,</span> <span class="n">mask</span><span class="p">,</span> <span class="n">raster_weights</span>

    <span class="c1"># Divide by the total weight applied</span>
    <span class="n">outputs</span> <span class="o">/=</span> <span class="n">weights</span>
    <span class="k">del</span> <span class="n">weights</span>

    <span class="n">out_raster</span> <span class="o">=</span> <span class="n">write_cog</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">out_name</span><span class="si">}</span><span class="s1">.tif&#39;</span><span class="p">,</span> <span class="n">outputs</span><span class="p">,</span> <span class="n">full_trans</span><span class="p">,</span> <span class="n">target_epsg_code</span><span class="p">,</span> <span class="n">nodata_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">del</span> <span class="n">outputs</span>

    <span class="n">out_counts_raster</span> <span class="o">=</span> <span class="n">write_cog</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">out_name</span><span class="si">}</span><span class="s1">_counts.tif&#39;</span><span class="p">,</span> <span class="n">counts</span><span class="p">,</span> <span class="n">full_trans</span><span class="p">,</span> <span class="n">target_epsg_code</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">gdal</span><span class="o">.</span><span class="n">GDT_Int16</span><span class="p">)</span>
    <span class="k">del</span> <span class="n">counts</span>

    <span class="k">return</span> <span class="n">out_raster</span><span class="p">,</span> <span class="n">out_counts_raster</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="asf_tools.composite.read_as_array" class="doc doc-heading">
<code class="highlight language-python"><span class="n">read_as_array</span><span class="p">(</span><span class="n">raster</span><span class="p">,</span> <span class="n">band</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>


<a href="#asf_tools.composite.read_as_array" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Reads data from a raster image into memory</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>raster</code></td>
        <td><code>str</code></td>
        <td><p>The file path to a raster image</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>band</code></td>
        <td><code>int</code></td>
        <td><p>The raster band to read</p></td>
        <td><code>1</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>&lt;built-in function array&gt;</code></td>
      <td><p>data: The raster pixel data as a numpy array</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>asf_tools/composite.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">read_as_array</span><span class="p">(</span><span class="n">raster</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">band</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Reads data from a raster image into memory</span>

<span class="sd">    Args:</span>
<span class="sd">        raster: The file path to a raster image</span>
<span class="sd">        band: The raster band to read</span>

<span class="sd">    Returns:</span>
<span class="sd">        data: The raster pixel data as a numpy array</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Reading raster values from </span><span class="si">{</span><span class="n">raster</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">ds</span> <span class="o">=</span> <span class="n">gdal</span><span class="o">.</span><span class="n">Open</span><span class="p">(</span><span class="n">raster</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">GetRasterBand</span><span class="p">(</span><span class="n">band</span><span class="p">)</span><span class="o">.</span><span class="n">ReadAsArray</span><span class="p">()</span>
    <span class="k">del</span> <span class="n">ds</span>  <span class="c1"># How to close w/ gdal</span>
    <span class="k">return</span> <span class="n">data</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="asf_tools.composite.reproject_to_target" class="doc doc-heading">
<code class="highlight language-python"><span class="n">reproject_to_target</span><span class="p">(</span><span class="n">raster_info</span><span class="p">,</span> <span class="n">target_epsg_code</span><span class="p">,</span> <span class="n">target_resolution</span><span class="p">,</span> <span class="n">directory</span><span class="p">)</span></code>


<a href="#asf_tools.composite.reproject_to_target" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Reprojects a set of raster images to a common projection and resolution</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>raster_info</code></td>
        <td><code>dict</code></td>
        <td><p>A dictionary of gdal.Info results for the set of rasters</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>target_epsg_code</code></td>
        <td><code>int</code></td>
        <td><p>The integer EPSG code for the target projection</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>target_resolution</code></td>
        <td><code>float</code></td>
        <td><p>The target resolution</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>directory</code></td>
        <td><code>str</code></td>
        <td><p>The directory in which to create the reprojected files</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>dict</code></td>
      <td><p>target_raster_info: An updated dictionary of gdal.Info results for the reprojected files</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>asf_tools/composite.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">reproject_to_target</span><span class="p">(</span><span class="n">raster_info</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span> <span class="n">target_epsg_code</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">target_resolution</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">directory</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Reprojects a set of raster images to a common projection and resolution</span>

<span class="sd">    Args:</span>
<span class="sd">        raster_info: A dictionary of gdal.Info results for the set of rasters</span>
<span class="sd">        target_epsg_code: The integer EPSG code for the target projection</span>
<span class="sd">        target_resolution: The target resolution</span>
<span class="sd">        directory: The directory in which to create the reprojected files</span>

<span class="sd">    Returns:</span>
<span class="sd">        target_raster_info: An updated dictionary of gdal.Info results for the reprojected files</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">target_raster_info</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">raster</span><span class="p">,</span> <span class="n">info</span> <span class="ow">in</span> <span class="n">raster_info</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">epsg_code</span> <span class="o">=</span> <span class="n">get_epsg_code</span><span class="p">(</span><span class="n">info</span><span class="p">)</span>
        <span class="n">resolution</span> <span class="o">=</span> <span class="n">info</span><span class="p">[</span><span class="s1">&#39;geoTransform&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">epsg_code</span> <span class="o">!=</span> <span class="n">target_epsg_code</span> <span class="ow">or</span> <span class="n">resolution</span> <span class="o">!=</span> <span class="n">target_resolution</span><span class="p">:</span>
            <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Reprojecting </span><span class="si">{</span><span class="n">raster</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">reprojected_raster</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">directory</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">raster</span><span class="p">))</span>
            <span class="n">gdal</span><span class="o">.</span><span class="n">Warp</span><span class="p">(</span>
                <span class="n">reprojected_raster</span><span class="p">,</span> <span class="n">raster</span><span class="p">,</span> <span class="n">dstSRS</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;EPSG:</span><span class="si">{</span><span class="n">target_epsg_code</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
                <span class="n">xRes</span><span class="o">=</span><span class="n">target_resolution</span><span class="p">,</span> <span class="n">yRes</span><span class="o">=</span><span class="n">target_resolution</span><span class="p">,</span> <span class="n">targetAlignedPixels</span><span class="o">=</span><span class="kc">True</span>
            <span class="p">)</span>

            <span class="n">area_raster</span> <span class="o">=</span> <span class="n">get_area_raster</span><span class="p">(</span><span class="n">raster</span><span class="p">)</span>
            <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Reprojecting </span><span class="si">{</span><span class="n">area_raster</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">reprojected_area_raster</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">directory</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">area_raster</span><span class="p">))</span>
            <span class="n">gdal</span><span class="o">.</span><span class="n">Warp</span><span class="p">(</span>
                <span class="n">reprojected_area_raster</span><span class="p">,</span> <span class="n">area_raster</span><span class="p">,</span> <span class="n">dstSRS</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;EPSG:</span><span class="si">{</span><span class="n">target_epsg_code</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
                <span class="n">xRes</span><span class="o">=</span><span class="n">target_resolution</span><span class="p">,</span> <span class="n">yRes</span><span class="o">=</span><span class="n">target_resolution</span><span class="p">,</span> <span class="n">targetAlignedPixels</span><span class="o">=</span><span class="kc">True</span>
            <span class="p">)</span>

            <span class="n">target_raster_info</span><span class="p">[</span><span class="n">reprojected_raster</span><span class="p">]</span> <span class="o">=</span> <span class="n">gdal</span><span class="o">.</span><span class="n">Info</span><span class="p">(</span><span class="n">reprojected_raster</span><span class="p">,</span>  <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;json&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;No need to reproject </span><span class="si">{</span><span class="n">raster</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">target_raster_info</span><span class="p">[</span><span class="n">raster</span><span class="p">]</span> <span class="o">=</span> <span class="n">info</span>

    <span class="k">return</span> <span class="n">target_raster_info</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h3 id="asf_tools.composite.write_cog" class="doc doc-heading">
<code class="highlight language-python"><span class="n">write_cog</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">transform</span><span class="p">,</span> <span class="n">epsg_code</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">nodata_value</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a href="#asf_tools.composite.write_cog" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Creates a Cloud Optimized GeoTIFF</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>file_name</code></td>
        <td><code>str</code></td>
        <td><p>The output file name</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>data</code></td>
        <td><code>ndarray</code></td>
        <td><p>The raster data</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>transform</code></td>
        <td><code>List[float]</code></td>
        <td><p>The geotransform for the output GeoTIFF</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>epsg_code</code></td>
        <td><code>int</code></td>
        <td><p>The integer EPSG code for the output GeoTIFF projection</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>dtype</code></td>
        <td><code></code></td>
        <td><p>The pixel data type for the output GeoTIFF</p></td>
        <td><code>6</code></td>
      </tr>
      <tr>
        <td><code>nodata_value</code></td>
        <td><code></code></td>
        <td><p>The NODATA value for the output Geotiff</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>file_name</code></td>
      <td><p>The output file name</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>asf_tools/composite.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">write_cog</span><span class="p">(</span><span class="n">file_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">transform</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span> <span class="n">epsg_code</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
              <span class="n">dtype</span><span class="o">=</span><span class="n">gdal</span><span class="o">.</span><span class="n">GDT_Float32</span><span class="p">,</span> <span class="n">nodata_value</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Creates a Cloud Optimized GeoTIFF</span>

<span class="sd">    Args:</span>
<span class="sd">        file_name: The output file name</span>
<span class="sd">        data: The raster data</span>
<span class="sd">        transform: The geotransform for the output GeoTIFF</span>
<span class="sd">        epsg_code: The integer EPSG code for the output GeoTIFF projection</span>
<span class="sd">        dtype: The pixel data type for the output GeoTIFF</span>
<span class="sd">        nodata_value: The NODATA value for the output Geotiff</span>

<span class="sd">    Returns:</span>
<span class="sd">        file_name: The output file name</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">log</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Creating </span><span class="si">{</span><span class="n">file_name</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="k">with</span> <span class="n">NamedTemporaryFile</span><span class="p">()</span> <span class="k">as</span> <span class="n">temp_file</span><span class="p">:</span>
        <span class="n">driver</span> <span class="o">=</span> <span class="n">gdal</span><span class="o">.</span><span class="n">GetDriverByName</span><span class="p">(</span><span class="s1">&#39;GTiff&#39;</span><span class="p">)</span>
        <span class="n">temp_geotiff</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">Create</span><span class="p">(</span><span class="n">temp_file</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="n">dtype</span><span class="p">)</span>
        <span class="n">temp_geotiff</span><span class="o">.</span><span class="n">GetRasterBand</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">WriteArray</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">nodata_value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">temp_geotiff</span><span class="o">.</span><span class="n">GetRasterBand</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">SetNoDataValue</span><span class="p">(</span><span class="n">nodata_value</span><span class="p">)</span>
        <span class="n">temp_geotiff</span><span class="o">.</span><span class="n">SetGeoTransform</span><span class="p">(</span><span class="n">transform</span><span class="p">)</span>
        <span class="n">temp_geotiff</span><span class="o">.</span><span class="n">SetProjection</span><span class="p">(</span><span class="n">epsg_to_wkt</span><span class="p">(</span><span class="n">epsg_code</span><span class="p">))</span>

        <span class="n">driver</span> <span class="o">=</span> <span class="n">gdal</span><span class="o">.</span><span class="n">GetDriverByName</span><span class="p">(</span><span class="s1">&#39;COG&#39;</span><span class="p">)</span>
        <span class="n">options</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;COMPRESS=LZW&#39;</span><span class="p">,</span> <span class="s1">&#39;OVERVIEW_RESAMPLING=AVERAGE&#39;</span><span class="p">,</span> <span class="s1">&#39;NUM_THREADS=ALL_CPUS&#39;</span><span class="p">,</span> <span class="s1">&#39;BIGTIFF=YES&#39;</span><span class="p">]</span>
        <span class="n">driver</span><span class="o">.</span><span class="n">CreateCopy</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="n">temp_geotiff</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>

        <span class="k">del</span> <span class="n">temp_geotiff</span>  <span class="c1"># How to close w/ gdal</span>
    <span class="k">return</span> <span class="n">file_name</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>




  </div>

    </div>

  </div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        <!--
  Copyright (c) 2016-2020 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->



<!-- Application footer -->
<footer class="md-footer">

  <!-- Link to previous and/or next page -->
  
    <div class="md-footer-nav">
      <nav
        class="md-footer-nav__inner md-grid"
        aria-label="Footer"
      >

        <!-- Link to previous page -->
        
          <a href="../asf_tools/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                ASF Tools for Python
              </div>
            </div>
          </a>
        

        <!-- Link to next page -->
        
          <a href="../../plugins/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Plugins
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>

      <!-- ASF Footer information-->
      <div class="md-grid">
        <div class="md-footer-container md-grid">
          <div class="md-footer-container-item">
            <img src="../../assets/images/asf-logo-blue-nav.png"
                 alt="ASF Logo"
                 class="md-footer-logo">
          </div>
          <div class="md-footer-container-item md-about-us">
            <h1>About Us</h1>
            <p>
              The Alaska Satellite Facility downlinks, processes, archives, and
              distributes remote-sensing data to scientific users around the world.
              ASF’s mission is to make remote-sensing data accessible.
            </p>
            <p>
              <a href="https://asf.alaska.edu/about-asf/" target="_blank">
                Read More
              </a>
            </p>
          </div>
          <div class="md-footer-container-item md-contact-info">
            <h1>Contact Info</h1>
            <p>
              Alaska Satellite Facility<br>
              2156 Koyukuk Drive<br>
              Fairbanks, AK 99775<br>
              (907) 474-5041<br>
              uso@asf.alaska.edu<br>
            </p>
            <p>
              <a href="javascript:feedback.showForm();">Send Us A Message</a>
            </p>
          </div>
        </div>
      </div>
    </div>
  

  <!-- Further information -->
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">

      <!-- Copyright and theme information -->
      <div class="md-footer-copyright">
        <div class="md-footer-copyright__highlight">
          
            &copy; <span id="copyright-year"></span>
            <script type="text/javascript">
                current_year = new Date().getFullYear();
                document.getElementById("copyright-year").innerHTML=current_year;
            </script>
            Alaska Satellite Facility
          
          <!-- ASF non-discrimination disclaimer-->
          &nbsp;&nbsp;
          <a href="https://www.alaska.edu/nondiscrimination"
             target="_blank"
             class="md-footer-copyright-link">
            UA is an AA/EO employer and educational institution and prohibits
            illegal discrimination against any individual
          </a>
        </div>
      </div>

      <!-- Social links -->
      <!--
  Copyright (c) 2016-2020 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Social links in footer -->
<div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://www.facebook.com/AKSatellite" target="_blank" rel="noopener" title="www.facebook.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path d="M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://twitter.com/Ak_Satellite" target="_blank" rel="noopener" title="twitter.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://www.youtube.com/channel/UChCfI0oVWw4qDwEidnDskJQ" target="_blank" rel="noopener" title="www.youtube.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg>
      </a>
    
    
        
          
          
            
            
          
          <a
            href="https://gitter.im/ASFHyP3/community"
            target="_blank" rel="noopener"
            title="gitter.im"
            class="md-footer-social__link"
          >
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M66.4 322.5H16V0h50.4v322.5zM166.9 76.1h-50.4V512h50.4V76.1zm100.6 0h-50.4V512h50.4V76.1zM368 76h-50.4v247H368V76z"/></svg>
          </a>
        
    
</div>
    </div>
  </div>
</footer>
      
    </div>
    
    
      <script src="../../assets/javascripts/vendor.18f0862e.min.js"></script>
      <script src="../../assets/javascripts/bundle.994580cf.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: ['navigation.instant'],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.9c0e82ba.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
    <script src="../../assets/javascripts/expert-rec-search.js"></script>

  </body>
</html>